"use strict";(self.webpackChunkfrontend_time=self.webpackChunkfrontend_time||[]).push([[596],{9596:(T,u,i)=>{i.r(u),i.d(u,{AuthModule:()=>A});var d=i(8583),g=i(4655),t=i(7716),c=i(6518),m=i(9133),h=i(6616),a=i(3679),p=i(1095);const v=[{path:"",redirectTo:"login"},{path:"login",component:(()=>{class o{constructor(e,n,l,s){this.authService=e,this.router=n,this.sweetAlert=l,this.tokenService=s,this.loginData={email:"",password:"",remember:!1}}ngOnInit(){this.verifyAuth()}verifyAuth(){const e=this.tokenService.getToken();e&&this.authService.getUserLogged(e).subscribe(n=>{this.tokenService.setToken(e,n.user.name),"ADMIN_ROLE"===n.user.rol?this.router.navigate(["/admin"]):"USER_ROLE"===n.user.rol&&this.router.navigate(["/dashboard"])},n=>console.log(n))}login(){this.authService.login(this.loginData).subscribe(e=>{this.tokenService.setToken(e.token,e.user.name),"ADMIN_ROLE"===e.user.rol?this.router.navigate(["/admin"]):"USER_ROLE"===e.user.rol&&this.router.navigate(["/dashboard"])},e=>{this.sweetAlert.presentError("Datos inv\xe1lidos!")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.e),t.Y36(g.F0),t.Y36(m.T),t.Y36(h.B))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"container","pt-5"],[1,"row"],[1,"col-md-12","contents"],[1,"row","d-flex","justify-content-center"],[1,"col-md-8"],[1,"mb-4"],[1,"text-center"],["action","#","method","post"],[1,"form-group","first"],["for","username"],["type","email","id","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","last","mb-4"],["for","password"],["type","password","id","password",1,"form-control",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",1,"btn-block","btn-size",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h1",6),t.TgZ(7,"strong"),t._uU(8,"Iniciar Sesi\xf3n"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",7),t.TgZ(10,"div",8),t.TgZ(11,"label",9),t._uU(12,"Correo Corporativo"),t.qZA(),t.TgZ(13,"input",10),t.NdJ("ngModelChange",function(s){return n.loginData.email=s}),t.qZA(),t.qZA(),t.TgZ(14,"div",11),t.TgZ(15,"label",12),t._uU(16,"Contrase\xf1a"),t.qZA(),t.TgZ(17,"input",13),t.NdJ("ngModelChange",function(s){return n.loginData.password=s}),t.qZA(),t.qZA(),t.TgZ(18,"button",14),t.NdJ("click",function(){return n.login()}),t._uU(19,"Ingresar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(13),t.Q6J("ngModel",n.loginData.email),t.xp6(4),t.Q6J("ngModel",n.loginData.password))},directives:[a.Fj,a.JJ,a.On,p.lW],styles:[".pad-top[_ngcontent-%COMP%]{padding-top:50%}"]}),o})()}];let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),o})();var Z=i(793);let A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,f,a.u5,Z.q]]}),o})()}}]);