"use strict";(self.webpackChunkfrontend_time=self.webpackChunkfrontend_time||[]).push([[596],{9596:(b,u,r)=>{r.r(u),r.d(u,{AuthModule:()=>T});var m=r(8583),g=r(4655),o=r(7716),c=r(6518),p=r(9133),h=r(6616),d=r(2522),l=r(3679),f=r(1095);const v=[{path:"",redirectTo:"login"},{path:"login",component:(()=>{class t{constructor(e,n,a,s){this.authService=e,this.router=n,this.sweetAlert=a,this.tokenService=s,this.loginData={email:"",password:"",remember:!1},this.logoDayToDay="https://firebasestorage.googleapis.com/v0/b/auditbot-c41e4.appspot.com/o/daytoday_logohorizontal.png?alt=media&token=bef0a6f0-1134-4f49-bb44-a6bbcdb9776b"}ngOnInit(){this.verifyAuth()}verifyAuth(){const e=this.tokenService.getToken();e&&this.authService.getUserLogged().subscribe(n=>{this.tokenService.setToken(e,n.user.name),"ADMIN_ROLE"===n.user.rol?this.router.navigate(["/admin"]):"USER_ROLE"===n.user.rol&&this.router.navigate(["/dashboard"])},n=>console.log(n))}login(){this.authService.login(this.loginData).subscribe(e=>{this.tokenService.setToken(e.token,e.user.name),"ADMIN_ROLE"===e.user.rol?this.router.navigate(["/admin"]):"USER_ROLE"===e.user.rol&&this.router.navigate(["/dashboard"])},e=>{this.sweetAlert.presentError("Datos inv\xe1lidos!")})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.e),o.Y36(g.F0),o.Y36(p.T),o.Y36(h.B))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:23,vars:3,consts:[[1,"large-toolbar"],["width","18%","alt","Logo","srcset","",3,"src"],[1,"container","pt-5"],[1,"row"],[1,"col-md-12","contents"],[1,"row","d-flex","justify-content-center"],[1,"col-md-8"],[1,"mb-4"],[1,"text-center"],["action","#","method","post"],[1,"form-group","first"],["for","username"],["type","email","id","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","last","mb-4"],["for","password"],["type","password","id","password",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["mat-raised-button","","color","primary",1,"btn-block","btn-size",3,"click"]],template:function(e,n){1&e&&(o.TgZ(0,"mat-toolbar",0),o.TgZ(1,"mat-toolbar-row"),o._UZ(2,"img",1),o.qZA(),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o.TgZ(9,"h1",8),o.TgZ(10,"strong"),o._uU(11,"Iniciar Sesi\xf3n"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",9),o.TgZ(13,"div",10),o.TgZ(14,"label",11),o._uU(15,"Correo Corporativo"),o.qZA(),o.TgZ(16,"input",12),o.NdJ("ngModelChange",function(s){return n.loginData.email=s}),o.qZA(),o.qZA(),o.TgZ(17,"div",13),o.TgZ(18,"label",14),o._uU(19,"Contrase\xf1a"),o.qZA(),o.TgZ(20,"input",15),o.NdJ("ngModelChange",function(s){return n.loginData.password=s})("keyup.enter",function(){return n.login()}),o.qZA(),o.qZA(),o.TgZ(21,"button",16),o.NdJ("click",function(){return n.login()}),o._uU(22,"Ingresar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("src",n.logoDayToDay,o.LSH),o.xp6(14),o.Q6J("ngModel",n.loginData.email),o.xp6(4),o.Q6J("ngModel",n.loginData.password))},directives:[d.Ye,d.rD,l.Fj,l.JJ,l.On,f.lW],styles:[".pad-top[_ngcontent-%COMP%]{padding-top:50%}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),t})();var A=r(793);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[m.ez,Z,l.u5,A.q]]}),t})()}}]);